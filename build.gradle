plugins {
    id 'war'
    id 'jacoco'
    id 'findbugs'
    id 'pmd'
    id 'checkstyle'
}

group = 'bookproject'
version = '0.0.1-SNAPSHOT'

description = """the book project"""

sourceCompatibility = 1.8
targetCompatibility = 1.8

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
    options.warnings = true
}

war {
    archiveName 'scrapper.war'
}

checkstyle {
    toolVersion = "8.4"
}

pmd {
    toolVersion = "5.8.1"
}

findbugs {
    toolVersion = "3.0.1"
}

jacoco {
    toolVersion = "0.7.9"
}

test.jacoco.excludes = ['com/steadystate/**']

repositories {
    maven { url "http://repo.maven.apache.org/maven2" }
}

dependencies {
    compile group: 'net.sf.jtidy', name: 'jtidy', version: 'r938'
    compile group: 'net.sourceforge.htmlunit', name: 'htmlunit', version: '2.28'
    compileOnly 'javax.servlet:javax.servlet-api:4.0.0'
    compileOnly group: 'org.projectlombok', name: 'lombok', version: '1.16.18'
    testCompile group: 'junit', name: 'junit', version: '4.12'
    testCompile group: 'org.assertj', name: 'assertj-core', version: '3.8.0'
    testCompile group: 'org.mockito', name: 'mockito-core', version: '2.7.22'
    testCompile group: 'org.apache.commons', name: 'commons-text', version: '1.1'
}
